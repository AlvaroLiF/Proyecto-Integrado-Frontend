<body>
  <app-header></app-header>

  <div class="content">
    <h1>Mis direcciones</h1>

    <div class="profile">
      <h2>Direcciones de Envío</h2>
      <div *ngIf="shippingAddresses && shippingAddresses.length > 0; else noShippingAddresses">
        <app-shipping-address-card *ngFor="let address of shippingAddresses" [showSelectButton]="false"
          [address]="address" (edit)="editShippingAddress(address)" (delete)="deleteShippingAddress(address)">
        </app-shipping-address-card>
      </div>
      <ng-template #noShippingAddresses>
        <p>No hay direcciones de envío registradas.</p>
      </ng-template>
      <button (click)="openShippingModal(false)" class="btn btn-primary add-address-btn">+ Añadir otra
        dirección</button>
    </div>

    <div class="profile">
      <h2>Direcciones de facturación</h2>
      <div *ngIf="billingAddresses && billingAddresses.length > 0; else noBillingAddresses">
        <app-shipping-address-card [showSelectButton]="false" *ngFor="let address of billingAddresses"
          [address]="address" (edit)="editBillingAddress(address)" (delete)="deleteBillingAddress(address)">
        </app-shipping-address-card>
      </div>
      <ng-template #noBillingAddresses>
        <p>No hay direcciones de facturación registradas.</p>
      </ng-template>
      <button (click)="openBillingModal(false)" class="btn btn-primary add-address-btn">+ Añadir otra dirección</button>
    </div>

    <app-shipping-address-modal [showModal]="showShippingModal" [shippingAddressForm]="shippingAddressForm"
      (closeModalEvent)="closeModal()" (saveAddressEvent)="saveShipAddress($event)">
    </app-shipping-address-modal>

    <app-billing-address-modal [showModal]="showBillingModal" [billingAddressForm]="billingAddressForm"
      (closeModalEvent)="closeModal()" (saveAddressEvent)="saveBillAddress($event)">
    </app-billing-address-modal>
  </div>

  <app-footer></app-footer>
</body>